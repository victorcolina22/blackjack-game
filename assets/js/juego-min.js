const myModule = (() => { const e = document.querySelector("#newGame"), t = document.querySelector("#dropCard"), a = document.querySelector("#stop"), r = document.querySelectorAll("small"), l = document.querySelectorAll(".divCards"); let o = [], n = []; const d = ["C", "D", "H", "S"], s = ["A", "J", "Q", "K"], c = (e = 2) => { o = [], n = i(); for (let t = 0; t < e; t++)o.push(0); r.forEach(e => e.innerText = "0"), document.querySelectorAll(".carta").forEach(e => e.remove()), a.disabled = !1, t.disabled = !1 }, i = () => { n = []; for (let e = 2; e <= 10; e++)for (let t of d) n.push(e + t); for (let e of d) for (let t of s) n.push(t + e); return _.shuffle(n) }, u = () => { if (0 === n.length) throw "No hay cartas en el deck"; return n.pop() }; playersPoints = ((e, t) => (o[t] = o[t] + (e => { const t = e.substring(0, e.length - 1); return isNaN(t) ? "A" === t ? 11 : 10 : 1 * t })(e), r[t].innerText = o[t], o[t])); const m = (e, t) => { let a = document.createElement("img"); a.src = `/assets/cartas/${e}.png`, a.classList.add("carta"), a.loading = "lazy", l[t].append(a) }, g = e => { let t = 0; do { const a = u(); if (t = playersPoints(a, o.length - 1), m(a, o.length - 1), e > 21) break } while (t < e && e <= 21); setTimeout(() => { t === e ? alert("Nadie gana :(") : e > 21 ? alert("Computadora gana!") : t > 21 ? alert("Jugador gana!") : alert("Computadora gana!") }, 300) }; return t.addEventListener("click", () => { const e = u(), r = playersPoints(e, 0); m(e, 0), setTimeout(() => { r > 21 ? (t.disabled = !0, a.disabled = !0, g(r)) : 21 === r && (alert("Jugador gana!"), t.disabled = !0, a.disabled = !0) }, 300) }), a.addEventListener("click", () => { a.disabled = !0, t.disabled = !0, g(o[0]) }), e.addEventListener("click", () => { c() }), { nuevoJuego: c } })();